<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Factory Reset â€“ SSLMon</title>
<meta name="viewport" content="width=device-width,initial-scale=1">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
</head>
<body class="bg-light">
<nav class="navbar navbar-expand-lg navbar-dark bg-primary">
  <div class="container-fluid">
    <a class="navbar-brand" href="/">SSLMon</a>
    <div class="d-flex">
      <a class="btn btn-sm btn-outline-light me-2" href="/">Dashboard</a>
      <a class="btn btn-sm btn-outline-light me-2" href="/domains">Manage Domains</a>
      <a class="btn btn-sm btn-outline-light me-2" href="/overview">Overview</a>
      <a class="btn btn-sm btn-outline-light me-2" href="/admin">Admin</a>
      <a class="btn btn-sm btn-outline-light" href="/logout">Logout</a>
    </div>
  </div>
</nav>

<div class="container my-4">
<h3 class="text-danger">Factory Reset</h3>
<p class="text-muted">Reset SSLMon to factory defaults</p>

{% if success %}
<div class="alert alert-success">{{ success }}</div>
{% endif %}

{% if error %}
<div class="alert alert-danger">{{ error }}</div>
{% endif %}

<div class="alert alert-danger" role="alert">
  <h5 class="alert-heading">WARNING: This action cannot be undone!</h5>
  <p>Factory reset will completely erase:</p>
  <ul>
    <li>All monitored domains and certificate data</li>
    <li>SMTP email configuration and encryption keys</li>
    <li>Admin password (reset to: <strong>admin</strong> / <strong>changeme</strong>)</li>
    <li>All logs and history</li>
  </ul>
  <hr>
  <p class="mb-0">This is intended for preparing SSLMon for deployment to a new client.</p>
</div>

<div class="card" style="max-width:500px">
  <div class="card-body">
    <form method="post" onsubmit="return confirm('Are you ABSOLUTELY SURE you want to factory reset? This will delete ALL data and cannot be undone!');">
      <div class="mb-3">
        <label for="confirm_text" class="form-label">Type <strong>RESET</strong> to confirm:</label>
        <input type="text" class="form-control" id="confirm_text" name="confirm_text" required autofocus>
      </div>

      <div class="mb-4">
        <label for="password" class="form-label">Enter current admin password:</label>
        <input type="password" class="form-control" id="password" name="password" required>
      </div>

      <button type="submit" class="btn btn-danger">Factory Reset Now</button>
      <a href="/admin" class="btn btn-secondary">Cancel</a>
    </form>
  </div>
</div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
